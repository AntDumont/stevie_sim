<launch>

  <!-- Load joint controller configurations from YAML file to parameter server -->
  <rosparam file="$(find stevie_control)/config/stevie_control.yaml" command="load"/>

  <!-- load the controllers -->
  <node name="controller_spawner"
    pkg="controller_manager"
    type="spawner" respawn="false"
    output="screen"
    args="joint_state_controller
      mobile_base_controller
      hip_position_controller
      upperBody_position_controller
      leftShoulder_position_controller
      rightShoulder_position_controller
      leftArm_position_controller
      rightArm_position_controller
      neck_position_controller
      head_position_controller"
  />

  <!-- convert joint states to TF transforms for rviz, etc -->
  <node name="robot_state_publisher" pkg="robot_state_publisher" type="robot_state_publisher" respawn="false" output="screen">
    <remap from="/joint_states" to="/stevie/joint_states"/>
  </node>

  <!-- Merge the data of the two lasers in one topic -->
  <node pkg="ira_laser_tools" name="laserscan_multi_merger" type="laserscan_multi_merger" output="screen">
    <param name="destination_frame" value="base_link"/>
    <param name="cloud_destination_topic" value="/merged_cloud"/>
    <param name="scan_destination_topic" value="/stevie/scan_multi"/>
    <param name="laserscan_topics" value="/stevie/laser/scan1 /stevie/laser/scan2"/>
    <param name="angle_min" value="-3.14"/>
    <param name="angle_max" value="3.14"/>
  </node>

</launch>
